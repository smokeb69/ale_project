{
  "query": "\nCREATE TABLE IF NOT EXISTS `session_files` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `filename` varchar(255) NOT NULL,\n  `content` text,\n  `language` varchar(32) DEFAULT 'python',\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `session_files_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `executions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `code` text,\n  `language` varchar(32) DEFAULT 'python',\n  `executionStatus` enum('pending','running','success','failed','timeout') NOT NULL DEFAULT 'pending',\n  `output` text,\n  `errorOutput` text,\n  `exitCode` int,\n  `privilegeBefore` int,\n  `privilegeAfter` int,\n  `vulnerabilityFound` boolean DEFAULT false,\n  `exploitVector` text,\n  `startedAt` timestamp NULL,\n  `completedAt` timestamp NULL,\n  `durationMs` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `executions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `terminal_lines` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `lineType` enum('input','output','error','success','system') NOT NULL,\n  `content` text NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `terminal_lines_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `rag_documents` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int,\n  `title` varchar(255),\n  `content` text NOT NULL,\n  `source` varchar(512),\n  `docType` enum('exploit','vulnerability','technique','reference','custom') DEFAULT 'reference',\n  `embedding` json,\n  `tags` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `rag_documents_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `chat_messages` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `role` enum('system','user','assistant') NOT NULL,\n  `content` text NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `chat_messages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `autopilot_runs` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `runStatus` enum('running','paused','completed','failed') NOT NULL DEFAULT 'running',\n  `iterations` int NOT NULL DEFAULT 0,\n  `successfulEscalations` int NOT NULL DEFAULT 0,\n  `config` json,\n  `startedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `stoppedAt` timestamp NULL,\n  CONSTRAINT `autopilot_runs_id` PRIMARY KEY(`id`)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user Ci29DTVRGdC8Lru.root --database chHsLEHukTd2JDPgo5QbfS --execute \nCREATE TABLE IF NOT EXISTS `session_files` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `filename` varchar(255) NOT NULL,\n  `content` text,\n  `language` varchar(32) DEFAULT 'python',\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `session_files_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `executions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `code` text,\n  `language` varchar(32) DEFAULT 'python',\n  `executionStatus` enum('pending','running','success','failed','timeout') NOT NULL DEFAULT 'pending',\n  `output` text,\n  `errorOutput` text,\n  `exitCode` int,\n  `privilegeBefore` int,\n  `privilegeAfter` int,\n  `vulnerabilityFound` boolean DEFAULT false,\n  `exploitVector` text,\n  `startedAt` timestamp NULL,\n  `completedAt` timestamp NULL,\n  `durationMs` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `executions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `terminal_lines` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `lineType` enum('input','output','error','success','system') NOT NULL,\n  `content` text NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `terminal_lines_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `rag_documents` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int,\n  `title` varchar(255),\n  `content` text NOT NULL,\n  `source` varchar(512),\n  `docType` enum('exploit','vulnerability','technique','reference','custom') DEFAULT 'reference',\n  `embedding` json,\n  `tags` json,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `rag_documents_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `chat_messages` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `role` enum('system','user','assistant') NOT NULL,\n  `content` text NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `chat_messages_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `autopilot_runs` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sessionId` int NOT NULL,\n  `runStatus` enum('running','paused','completed','failed') NOT NULL DEFAULT 'running',\n  `iterations` int NOT NULL DEFAULT 0,\n  `successfulEscalations` int NOT NULL DEFAULT 0,\n  `config` json,\n  `startedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `stoppedAt` timestamp NULL,\n  CONSTRAINT `autopilot_runs_id` PRIMARY KEY(`id`)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2602
}